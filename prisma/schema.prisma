generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model SpecSheet {
  id            Int      @id @default(autoincrement())
  customerCode  String   @map("customer_code")
  cropCode      String   @default("") @map("crop_code")
  crop          String
  packagingType String   @map("packaging_type")
  palletWeight  Float    @map("pallet_weight")
  unit          Float    @default(0)
  price         Float
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  @@map("spec_sheets")
  @@index([customerCode])
  @@index([cropCode])
  @@index([crop])
}

model ExportPlan {
  id            Int      @id @default(autoincrement())
  weekStart     DateTime @map("week_start")
  customerCode  String   @map("customer_code")
  cropCode      String   @default("") @map("crop_code")
  crop          String
  packagingType String   @map("packaging_type")
  quantity      Int
  palletWeight  Float    @map("pallet_weight")
  unitWeight    Float    @map("unit_weight")
  price         Float
  totalWeight   Float    @map("total_weight")
  unitCount     Float    @map("unit_count")
  revenue       Float
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  @@map("export_plans")
  @@index([weekStart])
  @@index([customerCode])
  @@index([cropCode])
}

model HarvestPlan {
  id        Int      @id @default(autoincrement())
  weekStart DateTime @map("week_start")
  cropCode  String   @map("crop_code")
  crop      String
  kgs       Float
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("harvest_plans")
  @@index([weekStart])
  @@index([cropCode])
}
